<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./style.css">
  <script src="./index.js" defer></script>
  <title>Video Control</title>
</head>
<body>
<div id="id01" class="modal">
    <div class="modal-content video">
      <div class="imgcontainer">
        <span class="close" title="Close">&times;</span>
      </div>
      <div class="container" id="container">
        <iframe
          id="player"
          width="560"
          height="315"
          src="https://www.youtube.com/embed/n6rTsbnpMls?enablejsapi=1"
          frameborder="0"
          allow="autoplay; encrypted-media"
          allowfullscreen
        ></iframe>
      </div>
    </div>
  </div>
<script src="https://www.youtube.com/iframe_api"></script>
<script>
var modal = document.querySelector('.modal')
var closeBtn = document.querySelector('.close')
var player

// Once the API is ready, create a player object for the
// iframe with the id="player"
var onYouTubeIframeAPIReady = function () {
  player = new YT.Player('player')
}

// When the close button gets clicked, check if the player
// got already initialised, and if so, pause it.
/* closeBtn.addEventListener('click', function () {
  modal.style.display = 'none'

  if (player) {
    player.pauseVideo()
  }
}) */

var closeModal = function () {
  modal.style.display = 'none'

  if (player) {
    player.pauseVideo()
  }
}

closeBtn.addEventListener('click', closeModal)
// Or inside another event handler simply call:
// closeModal()
</script>
</body>
</html>
